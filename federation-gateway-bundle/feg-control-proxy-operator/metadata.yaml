# Copyright 2022 Ubuntu
# See LICENSE file for licensing details.

name: magma-feg-control-proxy
description: |
  Federation Gateway control-proxy service.
summary: |
  Federation Gateway control-proxy service.

containers:
  magma-feg-control-proxy:
    resource: magma-feg-control-proxy-image
    mounts:
      - storage: certs
        location: /var/opt/magma/certs
      - storage: config
        location: /var/opt/magma/tmp

storage:
  certs:
    type: filesystem
    description: Certs storage
    minimum-size: 1M
  config:
    type: filesystem
    description: Config storage
    minimum-size: 1M

resources:
  magma-feg-control-proxy-image:
    type: oci-image
    description: OCI image for magma-control-proxy (docker.artifactory.magmacore.org/gateway_python:latest)
    upstream-source: docker.artifactory.magmacore.org/gateway_python:latest
